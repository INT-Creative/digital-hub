---
import BaseLayout from '../layouts/BaseLayout.astro';
import SocialShare from '../components/SocialShare.astro';
import SocialProof from '../components/SocialProof.astro';

// Sample blog posts - in a real implementation, these would come from a CMS or markdown files
const featuredPost = {
  title: "The Ultimate Startup Marketing Guide: From 0 to 10K Users",
  excerpt: "Everything you need to know about marketing your startup in 2024. From product-market fit to scaling strategies that work.",
  author: "Jake Miller",
  date: "2024-01-15",
  readTime: "12 min read",
  image: "/images/blog/startup-marketing-guide.jpg",
  slug: "ultimate-startup-marketing-guide-2024",
  category: "Growth Strategy"
};

const recentPosts = [
  {
    title: "5 Lead Generation Strategies That Actually Work for B2B SaaS",
    excerpt: "Proven tactics we use with our clients to generate qualified leads consistently.",
    author: "Sarah Chen",
    date: "2024-01-10",
    readTime: "8 min read",
    slug: "b2b-saas-lead-generation-strategies",
    category: "Lead Generation"
  },
  {
    title: "How to Build a Brand That VCs Notice (With Examples)",
    excerpt: "Brand positioning strategies that help startups stand out in crowded markets.",
    author: "David Rodriguez",
    date: "2024-01-05",
    readTime: "10 min read",
    slug: "build-brand-vcs-notice",
    category: "Branding"
  },
  {
    title: "Content Marketing for Startups: The $0 Growth Strategy",
    excerpt: "How to create content that drives organic growth without a big budget.",
    author: "Jake Miller",
    date: "2023-12-28",
    readTime: "7 min read",
    slug: "content-marketing-startups-zero-budget",
    category: "Content Marketing"
  },
  {
    title: "Marketing Attribution for Startups: Track What Matters",
    excerpt: "Simple attribution models that help startups understand their best marketing channels.",
    author: "Sarah Chen",
    date: "2023-12-20",
    readTime: "9 min read",
    slug: "marketing-attribution-startups",
    category: "Analytics"
  },
  {
    title: "From Idea to Product-Market Fit: A Marketing Perspective",
    excerpt: "How marketing can help validate and refine your startup's product-market fit.",
    author: "Jake Miller",
    date: "2023-12-15",
    readTime: "11 min read",
    slug: "idea-to-product-market-fit-marketing",
    category: "Growth Strategy"
  },
  {
    title: "Social Proof That Converts: Examples from High-Growth Startups",
    excerpt: "Real examples of how startups use social proof to increase conversion rates.",
    author: "David Rodriguez",
    date: "2023-12-10",
    readTime: "6 min read",
    slug: "social-proof-converts-startup-examples",
    category: "Conversion"
  }
];

const categories = [
  "All",
  "Growth Strategy",
  "Lead Generation", 
  "Branding",
  "Content Marketing",
  "Analytics",
  "Conversion"
];
---

<BaseLayout 
  title="Blog" 
  description="Startup marketing insights, growth strategies, and case studies from INT Creative. Learn how to scale your startup with proven marketing tactics."
>
  <!-- Hero Section -->
  <section class="pt-20 pb-16 bg-gradient-to-br from-beige-50 to-sage-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-4xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-heading font-bold text-forest-900 mb-6">
          Startup Marketing 
          <span class="text-sage-700">Insights</span>
        </h1>
        <p class="text-xl text-gray-600 mb-8">
          Practical strategies, case studies, and insights to help you scale your startup. Learn from our experience working with 50+ growing companies.
        </p>
        <div class="flex justify-center">
          <a href="/contact" class="bg-sage-600 hover:bg-sage-700 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200">
            Get Free Marketing Audit
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Post -->
  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-12">
        <div class="inline-block bg-sage-100 text-sage-800 px-3 py-1 rounded-full text-sm font-medium">
          Featured Post
        </div>
      </div>
      
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <div class="bg-gradient-to-br from-sage-200 to-beige-200 aspect-video rounded-xl mb-6 flex items-center justify-center">
            <div class="text-forest-700 text-lg font-medium">Featured Post Image</div>
          </div>
        </div>
        <div>
          <div class="inline-block bg-sage-100 text-sage-800 px-2 py-1 rounded text-xs font-medium mb-3">
            {featuredPost.category}
          </div>
          <h2 class="text-3xl md:text-4xl font-heading font-bold text-forest-900 mb-4">
            {featuredPost.title}
          </h2>
          <p class="text-xl text-gray-600 mb-6">
            {featuredPost.excerpt}
          </p>
          <div class="flex items-center text-gray-600 text-sm mb-6">
            <span>By {featuredPost.author}</span>
            <span class="mx-2">•</span>
            <span>{featuredPost.date}</span>
            <span class="mx-2">•</span>
            <span>{featuredPost.readTime}</span>
          </div>
          <div class="flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-3 sm:space-y-0">
            <a href={`/blog/${featuredPost.slug}`} class="bg-forest-900 hover:bg-forest-800 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200 inline-block">
              Read Full Article
            </a>
            
            <!-- Social Sharing for Featured Post -->
            <SocialShare 
              url={`/blog/${featuredPost.slug}`}
              title={featuredPost.title}
              description={featuredPost.excerpt}
              style="minimal"
              platforms={['twitter', 'linkedin', 'facebook']}
              className="flex-shrink-0"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Category Filter -->
  <section class="py-8 bg-gray-50 border-y border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-wrap justify-center gap-3">
        {categories.map((category) => (
          <button 
            class={`category-filter px-4 py-2 rounded-lg font-medium text-sm transition-colors duration-200 ${
              category === "All" 
                ? "bg-sage-600 text-white" 
                : "bg-white text-gray-700 hover:bg-sage-50 hover:text-sage-700"
            }`}
            data-category={category}
          >
            {category}
          </button>
        ))}
      </div>
    </div>
  </section>

  <!-- Recent Posts -->
  <section class="py-20 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-forest-900 mb-4">
          Latest Articles
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Stay updated with the latest startup marketing strategies and growth tactics.
        </p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="posts-grid">
        {recentPosts.map((post) => (
          <article class="bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden post-card" data-category={post.category}>
            <div class="bg-gradient-to-br from-sage-100 to-beige-100 aspect-video flex items-center justify-center">
              <div class="text-forest-700 text-sm font-medium">Article Image</div>
            </div>
            <div class="p-6">
              <div class="inline-block bg-sage-100 text-sage-800 px-2 py-1 rounded text-xs font-medium mb-3">
                {post.category}
              </div>
              <h3 class="text-xl font-heading font-semibold text-forest-900 mb-3 line-clamp-2">
                {post.title}
              </h3>
              <p class="text-gray-600 mb-4 line-clamp-3">
                {post.excerpt}
              </p>
              <div class="flex items-center justify-between text-sm text-gray-500">
                <div class="flex items-center">
                  <span>By {post.author}</span>
                  <span class="mx-2">•</span>
                  <span>{post.date}</span>
                </div>
                <span>{post.readTime}</span>
              </div>
              <div class="mt-4 flex items-center justify-between">
                <a href={`/blog/${post.slug}`} class="text-sage-700 font-medium hover:text-sage-800 transition-colors duration-200">
                  Read more →
                </a>
                
                <!-- Social Sharing for Each Post -->
                <SocialShare 
                  url={`/blog/${post.slug}`}
                  title={post.title}
                  description={post.excerpt}
                  style="minimal"
                  platforms={['twitter', 'linkedin']}
                  className="opacity-75 hover:opacity-100 transition-opacity duration-200"
                />
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Social Proof Section -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SocialProof type="combined" layout="grid" showCounts={true} />
    </div>
  </section>

  <!-- Newsletter Signup -->
  <section class="py-20 bg-forest-900 text-white">
    <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl md:text-4xl font-heading font-bold mb-6">
        Never Miss a Growth Insight
      </h2>
      <p class="text-xl mb-8 text-beige-100">
        Get our latest startup marketing strategies and case studies delivered to your inbox weekly.
      </p>
      <form class="flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto">
        <input
          type="email"
          placeholder="Enter your email"
          class="px-4 py-3 rounded-lg bg-forest-800 border border-forest-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sage-500 flex-1"
          required
        />
        <button
          type="submit"
          class="bg-sage-600 hover:bg-sage-700 text-white px-8 py-3 rounded-lg font-medium transition-colors duration-200 whitespace-nowrap"
        >
          Subscribe
        </button>
      </form>
      <p class="text-sm text-beige-200 mt-4">
        Join 2,500+ founders getting actionable marketing insights. Unsubscribe anytime. Also follow us on 
        <a href="https://linkedin.com/company/intcreative" target="_blank" rel="noopener noreferrer" class="text-blue-300 hover:text-blue-200 underline transition-colors duration-200">LinkedIn</a> &
        <a href="https://twitter.com/intcreative" target="_blank" rel="noopener noreferrer" class="text-blue-300 hover:text-blue-200 underline transition-colors duration-200">Twitter</a> for daily tips.
      </p>
    </div>
  </section>
</BaseLayout>

<script>
  // Category filtering
  document.addEventListener('DOMContentLoaded', function() {
    const categoryFilters = document.querySelectorAll('.category-filter');
    const postCards = document.querySelectorAll('.post-card');
    
    categoryFilters.forEach(filter => {
      filter.addEventListener('click', function() {
        const category = this.dataset.category;
        
        // Update active filter
        categoryFilters.forEach(f => {
          f.classList.remove('bg-sage-600', 'text-white');
          f.classList.add('bg-white', 'text-gray-700', 'hover:bg-sage-50', 'hover:text-sage-700');
        });
        this.classList.add('bg-sage-600', 'text-white');
        this.classList.remove('bg-white', 'text-gray-700', 'hover:bg-sage-50', 'hover:text-sage-700');
        
        // Filter posts
        postCards.forEach(card => {
          const cardCategory = card.dataset.category;
          if (category === 'All' || cardCategory === category) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });

    // Newsletter form
    const newsletterForm = document.querySelector('section form');
    newsletterForm?.addEventListener('submit', function(e) {
      e.preventDefault();
      const email = this.querySelector('input[type="email"]')?.value;
      
      if (email) {
        alert('Thanks for subscribing! We\'ll send you our latest insights.');
        this.reset();
      }
    });
  });
</script>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>