---
export interface Props {
  author: string;
  publishDate: string;
  showBio?: boolean;
  className?: string;
}

const { author, publishDate, showBio = false, className = "" } = Astro.props;

// Author data - in a real app, this would come from a database or CMS
const authorData = {
  "Jacob Internicola": {
    name: "Jacob Internicola",
    title: "Founder & Lead Consultant",
    bio: "Jacob specializes in transforming local businesses through strategic web development and marketing automation. With a focus on practical implementation over abstract strategy, he helps service businesses generate more leads and streamline their operations.",
    avatar: "/images/jacob-avatar.jpg",
    social: {
      linkedin: "https://www.linkedin.com/in/jacobinternicola",
      twitter: "https://x.com/intcreative_co"
    }
  }
};

const currentAuthor = authorData[author as keyof typeof authorData] || {
  name: author,
  title: "Contributor",
  bio: "Guest contributor to INT Creative Hub.",
  avatar: "/images/default-avatar.jpg",
  social: {}
};
---

<div class={`flex items-start space-x-4 ${className}`}>
  <!-- Avatar -->
  <div class="flex-shrink-0">
    <img 
      src={currentAuthor.avatar} 
      alt={currentAuthor.name}
      class="w-12 h-12 rounded-full object-cover ring-2 ring-white shadow-lg"
      loading="lazy"
    />
  </div>
  
  <!-- Author Info -->
  <div class="flex-1 min-w-0">
    <div class="flex items-center space-x-2">
      <h4 class="font-medium text-current">
        {currentAuthor.name}
      </h4>
      {currentAuthor.social.linkedin && (
        <a 
          href={currentAuthor.social.linkedin}
          target="_blank"
          rel="noopener noreferrer"
          class="text-current hover:opacity-70 transition-opacity duration-200"
          aria-label={`${currentAuthor.name} on LinkedIn`}
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
      )}
      {currentAuthor.social.twitter && (
        <a 
          href={currentAuthor.social.twitter}
          target="_blank"
          rel="noopener noreferrer"
          class="text-current hover:opacity-70 transition-opacity duration-200"
          aria-label={`${currentAuthor.name} on Twitter`}
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
          </svg>
        </a>
      )}
    </div>
    
    <p class="text-sm opacity-80 mt-1">
      {currentAuthor.title}
    </p>
    
    <p class="text-sm opacity-60 mt-1">
      {publishDate}
    </p>
    
    <!-- Extended Bio -->
    {showBio && (
      <div class="mt-4 pt-4 border-t border-current/10">
        <p class="text-sm opacity-80 leading-relaxed">
          {currentAuthor.bio}
        </p>
        
        <!-- Social Links -->
        {(currentAuthor.social.linkedin || currentAuthor.social.twitter) && (
          <div class="flex items-center space-x-4 mt-3">
            <span class="text-xs opacity-60 font-medium">Connect:</span>
            {currentAuthor.social.linkedin && (
              <a 
                href={currentAuthor.social.linkedin}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center space-x-1 text-xs opacity-80 hover:opacity-100 transition-opacity duration-200"
              >
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
                <span>LinkedIn</span>
              </a>
            )}
            {currentAuthor.social.twitter && (
              <a 
                href={currentAuthor.social.twitter}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center space-x-1 text-xs opacity-80 hover:opacity-100 transition-opacity duration-200"
              >
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
                <span>Twitter</span>
              </a>
            )}
          </div>
        )}
      </div>
    )}
  </div>
</div>